# DDALAB Environment Configuration Template
#
# This is the master template for all DDALAB environment variables.
# Copy this file to .env and customize values for your deployment.
# For development, copy to .env.local instead.
#
# SECURITY: Never commit real secrets to version control!

#=============================================================================
# DEPLOYMENT CONFIGURATION
#=============================================================================

# Environment type: development, production, testing
DDALAB_ENVIRONMENT=production

# Enable debug logging (set to false in production)
DDALAB_DEBUG=false

# Service branding
DDALAB_SERVICE_NAME=ddalab
DDALAB_INSTITUTION_NAME="Your Institution Name"

#=============================================================================
# API SERVER
#=============================================================================

# API server binding
DDALAB_API_HOST=0.0.0.0
DDALAB_API_PORT=8001

# Development: set to true for hot reload
DDALAB_RELOAD=false

#=============================================================================
# DATABASE (PostgreSQL)
#=============================================================================

# Database connection (adjust for your setup)
DDALAB_DB_HOST=postgres
DDALAB_DB_PORT=5432
DDALAB_DB_NAME=ddalab
DDALAB_DB_USER=admin
DDALAB_DB_PASSWORD=123456

#=============================================================================
# AUTHENTICATION & SECURITY
#=============================================================================

# Auth mode: "local" (no auth) or "multi-user" (full auth)
DDALAB_AUTH_MODE=multi-user

# JWT configuration (CHANGE THESE IN PRODUCTION!)
DDALAB_JWT_SECRET_KEY=CHANGE_ME_PRODUCTION_JWT_SECRET
DDALAB_JWT_ALGORITHM=HS256
DDALAB_TOKEN_EXPIRATION_MINUTES=10080
DDALAB_REFRESH_TOKEN_EXPIRE_DAYS=7

#=============================================================================
# STORAGE (MinIO & File System)
#=============================================================================

# MinIO object storage
DDALAB_MINIO_HOST=minio:9000
DDALAB_MINIO_ACCESS_KEY=admin
DDALAB_MINIO_SECRET_KEY=ddalab_password
DDALAB_MINIO_BUCKET_NAME=dda-results

# File system paths
DDALAB_DATA_DIR=/app/data
DDALAB_ALLOWED_DIRS=/app/data,/app/uploads
DDALAB_ANONYMIZE_EDF=true

#=============================================================================
# CACHING (Redis)
#=============================================================================

# Redis configuration
DDALAB_REDIS_HOST=redis
DDALAB_REDIS_PORT=6379
DDALAB_REDIS_DB=0
DDALAB_REDIS_PASSWORD=
DDALAB_REDIS_USE_SSL=false
DDALAB_PLOT_CACHE_TTL=3600

#=============================================================================
# DDA ANALYSIS ENGINE
#=============================================================================

# DDA binary path and execution settings
DDALAB_DDA_BINARY_PATH=/app/bin/run_DDA_ASCII
DDALAB_MAX_CONCURRENT_TASKS=10
DDALAB_TASK_TIMEOUT=600

#=============================================================================
# OBSERVABILITY & MONITORING
#=============================================================================

# OpenTelemetry tracing
DDALAB_OTLP_HOST=jaeger
DDALAB_OTLP_PORT=4318

#=============================================================================
# DOCKER COMPOSE VARIABLES
#=============================================================================

# These are used by docker-compose.yml for service configuration
# In production, these should match your DDALAB_MINIO_* values
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=ddalab_password

# Additional service ports
WEB_PORT=3000

# Service passwords (CHANGE IN PRODUCTION!)
TRAEFIK_PASSWORD_HASH=CHANGE_ME_PRODUCTION_TRAEFIK_HASH
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_PRODUCTION_GRAFANA_PASSWORD

#=============================================================================
# WEB FRONTEND (Next.js)
#=============================================================================

# Public URLs (adjust for your domain)
NEXT_PUBLIC_API_URL=https://your-domain.com/api
NEXT_PUBLIC_APP_URL=https://your-domain.com

# NextAuth configuration
NEXTAUTH_URL=https://your-domain.com
NEXTAUTH_SECRET=CHANGE_ME_PRODUCTION_NEXTAUTH_SECRET

#=============================================================================
# DEVELOPMENT OVERRIDES
#=============================================================================
# The following variables are commonly overridden in .env.local for development:
#
# DDALAB_ENVIRONMENT=development
# DDALAB_DEBUG=true
# DDALAB_RELOAD=true
# DDALAB_AUTH_MODE=local
# DDALAB_DB_HOST=localhost
# DDALAB_MINIO_HOST=localhost:9000
# DDALAB_REDIS_HOST=localhost
# DDALAB_DATA_DIR=./data
# DDALAB_ALLOWED_DIRS=/Users/yourname/Desktop
# DDALAB_DDA_BINARY_PATH=/path/to/your/dda/binary
# NEXT_PUBLIC_API_URL=http://localhost:8001
# NEXTAUTH_URL=http://localhost:3000
#=============================================================================