<!doctype html>
<html lang="en" data-theme="{{THEME}}">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{TITLE}} - {{SITE_TITLE}}</title>
    <meta name="description" content="{{DESCRIPTION}}" />
    <meta name="generator" content="DDALAB Gallery" />
    <style>
      {{INLINE_CSS}}
    </style>
  </head>
  <body>
    <header class="gallery-header">
      <div class="nav-breadcrumb">
        <a href="index.html">{{SITE_TITLE}}</a> &rsaquo; {{TITLE}}
      </div>
      <h1>{{TITLE}}</h1>
      <p>{{DESCRIPTION}}</p>
      <div class="result-tags">{{TAGS_HTML}}</div>
    </header>

    <div class="result-container">
      <div class="result-meta">
        <div class="result-meta-item">
          <label>File</label>
          <span>{{FILE_NAME}}</span>
        </div>
        <div class="result-meta-item">
          <label>Variant</label>
          <span>{{VARIANT_DISPLAY_NAME}}</span>
        </div>
        <div class="result-meta-item">
          <label>Channels</label>
          <span>{{CHANNELS_COUNT}} channels</span>
        </div>
        <div class="result-meta-item">
          <label>Date</label>
          <span>{{CREATED_AT}}</span>
        </div>
        <div class="result-meta-item">
          <label>Author</label>
          <span>{{AUTHOR}}</span>
        </div>
      </div>

      <section class="heatmap-section">
        <h2>DDA Heatmap</h2>
        <div class="heatmap-wrapper">
          <div class="heatmap-canvas-container">
            <canvas id="dda-heatmap"></canvas>
          </div>
          <div class="color-legend">
            <span class="legend-low"></span>
            <div id="color-legend-bar" class="color-legend-bar"></div>
            <span class="legend-high"></span>
          </div>
        </div>
        <div id="heatmap-tooltip" class="heatmap-tooltip"></div>
      </section>

      <section class="data-table-section">
        <h2>Exponents</h2>
        <div id="exponents-table"></div>
      </section>

      <section class="data-table-section">
        <h2>Quality Metrics</h2>
        <div id="quality-table"></div>
      </section>

      <section class="params-section">
        <h2>Parameters</h2>
        <div id="params-container"></div>
      </section>
    </div>

    <footer class="gallery-footer">
      Generated by
      <a href="https://github.com/ddalab/ddalab" target="_blank" rel="noopener"
        >DDALAB</a
      >
      &mdash; Delay Differential Analysis Laboratory
    </footer>

    <script>
      window.__DDA_DATA__ = {{DATA_JSON}};
    </script>
    <script>
      {
        {
          INLINE_JS;
        }
      }
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var data = window.__DDA_DATA__;
        DDAGallery.renderHeatmap("dda-heatmap", data, {
          cellWidth: 1,
          cellHeight: 4,
          tooltip: "heatmap-tooltip",
        });
        DDAGallery.renderColorLegend("color-legend-bar", data);
        DDAGallery.renderTable("exponents-table", data.exponents, "Exponent");
        DDAGallery.renderTable("quality-table", data.qualityMetrics, "Quality");
        DDAGallery.renderParameters("params-container", data.parameters);
      });
    </script>
  </body>
</html>
